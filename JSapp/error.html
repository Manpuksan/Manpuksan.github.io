<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>javascriptで作った作品のページです<br></title>
    <link rel="icon" href="../img/tychanicon.ico">
    <meta name="description" content="javascriptの練習">
    <!-- CSS only -->
<link href="../css/styles.css"  rel="stylesheet">
</header>
<body>
  <header>
    <div class="returntop">
      <a href="../index.html">
        <img  width="80px" src="../img/tychanicon.ico" alt=""></a>
      </div>
      <div class='pagetitle'>
        <a href="kumaindex.html">ゲーム置き場</a></div>
      <ul class="headerlist">
        <li style="background-color:rgb(204,255,0); box-shadow: none; position: relative;top: 5px;">
          <a style="color: tomato;" href="">作成中のエラー集</a></li>
        <li><a href="making.html">作成中のゲーム</a></li>
      </ul>
  </header>
  <h2 class="overview">ゲームを作成中に出てきたエラー集です</h2>
  <main>
    <!-- この下にコピペ -->
    <div class="error">
      <h2>CSSでクラスを指定できない</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>HTML＆CSS</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              &lt;p class="bet r"&gt;9&lt;/p&gt;<br>
              &lt;p class="bet<span style="background-color: yellow;"> </span>r"&gt;9&lt;/p&gt;
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>CSSでbetというクラスを指定する</td>
          </tr>
          <tr>
            <td>症状</td>
            <td>
              上のbetは指定できるのに<br>
              下のbetは指定できない
            </td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              おわかりいただけるだろうか…<br><br>
              ルーレットを作成時に賭ける場所の数（152か所）だけ betクラスの要素を作成する必要があり<br>
              すこーしずつ違う要素があまりに多く、手入力はやってられないと思い、<br>
              Excel のフィル機能で作成してペーストしたのですが、<br>
              この見た目には全く同じ２つの要素ですが、クラス名が違うんです<br>
              なので bet と指定しても下の要素には適用されないんですね<br><br>
              betクラスを作って…あとで成形しやすいように div をつくって…CSSでルーレットの見た目に整えて…<br>
              と、いうところでbetクラスがなぜか指定できないという…<br>
              <br>
              これはどこが違うかというと、bet と r の間のスペースが違うものと認識されているんです<br>
              いやわかるわけないでしょ…<br><br>
              エディタはVisualStudioCodeを使っているのですが、サポート機能の1つに<br>
              選択範囲と同じ文字列の背景色が変わる<br>
              という機能がありまして、この機能のおかげで気づきました…<br>
              専用のエディタはいいですね<br>
              ちなみに一旦HPに表示されたものをコピペしたものは偽スペースではなくなってるんですよね<br>
              不思議です　文字コードが関係あるのでしょうか…
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              偽スペースは偽スペースで同じものとみなされるようなのでctel+Hで真スペースに置換すれば一発でした
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="error">
      <h2>ul　に対してfloat: left;にしても動かない</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>html&CSS</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              &lt;ul&gt;<br>
                　&lt;li&gt;1&lt;/li&gt;<br>
                　&lt;li&gt;2&lt;/li&gt;<br>
              &lt;/ul&gt;<br>
              CSSにて<br>
              ul{float:left;}
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>ulの中身を横向きに表示させる</td>
          </tr>
          <tr>
            <td>症状</td>
            <td>
              なにも変化しない
            </td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              なぜか未だにやらかすミスです<br>
              多分頭の中ではulの中身を横向きにして…とか考えながらやっいるので<br>
              ulのほうにつけちゃうんでしょうか<br>
              変えたいのはulの配置ではなく、liの配置なんですよね
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              li{float:left;}<br>
              または<br>
              ul>*{float:left;}　（先日ドットインストールで覚えました!）<br>
              後者はli以外の要素があってもOKなのが便利ですね<br>
              その後の調整方法は変わりますが<br>
              ul{display:flex;}<br>
              でもいけますね<br>
              しっかり使い分けられるようにしたいです
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="error">
      <h2>indexOfその１　とりあえずエラーで止まってしまう</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>javascript</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              const オブジェクトA = [<br>
              　{あたり:a　　　,その他:0},<br>
              　{あたり:[a,b,c],その他:0},<br>
              　…];<br><br>
              <span style="background-color: yellow;">オブジェクトA[0].あたり</span>
              .indexOf(b);<br>
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>
              -1が返ってきたらはずれ、それ以外ならあたり<br>
              として正誤判定をする
            </td>
          </tr>
          <tr>
            <td>症状</td>
            <td>
              Consoleに<br>
              Uncaught TypeError: a[0].indexOf is not a function<br>
              と出て止まる
            </td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              indexOfは前の<span style="color: red;">「配列や文字列」</span>に引数（かっこの中の数値）が<br>
              含まれていたら、何番目にあるのか<br>
              含まれていなければ-1を返すというメソッドです<br>
              オブジェクトA[0].あたり　はaという<span style="color: red;">「数値」</span>なので<br>
              そんな関数はない、と突っぱねてきてるんですね<br>
              健気にもa[0].indexOfという関数がないか探し回ったんでしょう
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              <span style="background-color: yellow;">[オブジェクトA[0].あたり]</span>
              .indexOf(b);<br>
              と[　]をつけて要素が一つだけの配列にする<br>
              これでエラーなくなります…が<br>
              このことが更なる不具合を生むことになりました　その２へ続く…
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="error">
      <h2>indexOfその２　配列に含まれているのに-1が返ってくる</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>javascript</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              const オブジェクトA = [<br>
              　{あたり:<span style="background-color: yellow;">a</span>　　　,その他:0},<br>
              　{あたり:[a,b,c],その他:0},<br>
              　{あたり:[a,c]　,その他:0}<br>
              ];<br><br>
              [オブジェクトA[0].あたり].indexOf(b);・・・１<br>
              [オブジェクトA[1].あたり].indexOf(b);・・・２<br>
              [オブジェクトA[2].あたり].indexOf(b);・・・３<br>
              （実際にはforをつかって繰り返しました）
              
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>
              １～３番でそれぞれ正誤判定をする
            </td>
          </tr>
          <tr>
            <td>症状</td>
            <td>
              １番だけしかあたりにならなかった（２番もあたりのはずなのに）
            </td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              .indexOfの前にある配列の中身をそれぞれ書き出すと<br>
              １　b　　　つまり<span style="color: red;">「数値」</span>b<br>
              ２　[a,b,c]つまりaとbとcと要素に持つ<span style="color: red;">「配列」</span><br>
              ３　[a,c]　つまりaとcを要素に持つ<span style="color: red;">「配列」</span><br>
              ということになるので２番と３番の配列には<span style="color: red;">「数値」</span>が含まれていないんですね<br><br>
              私「あたりは引き出しの中だよ　なかにあたりが入ってたら教えてね」<br>
              PC「引き出しを開けたところ、あたりの入った箱はありましたが、<br>
              　　あたりそのものは入ってなかったのではずれです」<br>
              私「・・・・・・・・・」
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              オブジェクトAのひとつ目のプロパティを<br>
              {あたり:<span style="background-color:yellow ;">[a]</span>,その他:0}<br>
              にする　これであたりは全部配列なので後半の文も<br>
              オブジェクトA[1].あたり.indexOf(b);<br>
              というように[　]をはずす<br>
              indexOfの前は配列じゃないとって思いのからのミスです<br>
              現実と一緒ですね<br>
              あぁ…この人こういうタイプかー<br>
              とわかってしまえばどうということはなさそうです　指示は正確に
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="error">
      <h2>for文にて　PCから異音出た</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>javascript</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              for(let n=0;<span style="background-color: yellow;">n=2</span>;n++){<br>
              　console.log(n);<br>
              };
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>nが2になるまで処理を繰り返してほしい（3回）</td>
          </tr>
          <tr>
            <td>症状</td>
            <td>画面が止まり、PCのファンがすごい回りだした</td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              びっくりしました<br>
              突っ込みどころは２つ<br>
              ひとつ<br>
              　nが2になる、としたいのなら n===2 だということ<br>
              　n=2 は nに2を代入せよ ってことなので、真偽を返す式ではないのですよね…<br>
              　なので終了条件が設定されていないのと同じということなわけで<br>
              　ひたすら繰り返し続けてしまいます<br>
              ふたつ<br>
              　たとえ n===2 としていたとしても、最初の一回目の繰り返し時は n===0<br>
              　つまり n===2 は偽なので<br>
              　この命令はいちども実行されることなく終了してしまいます<br>
              <br>
              forは<br>
              条件式が真になるところまで繰り返す、と勘違いしていました<br>
              条件式が偽になったら繰り返すのをやめる、ということですね<br><br>
              原因も結果もわかっていながら何度もやってしまったミスです<br>
              学生時代の数学の癖がちょっと悪さしてましたね
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              n&lt;3に書き換える<br>
              一応今回は3回しか繰り返さないので<br>
              n===0 || n===1 || n===2<br>
              でもいけますが、メリットないですよね
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="error">
      <h2>document.getElementsByClassName('クラス名')で指定できない</h2>
      <table>
        <tbody>
          <tr>
            <td>言語</td>
            <td>javascript</td>
          </tr>
          <tr>
            <td>コード</td>
            <td>
              document.getElementsByClassName('クラス名')
              <span style="background-color: yellow;">　</span>
              .なになに
            </td>
          </tr>
          <tr>
            <td>目的</td>
            <td>特定のクラスのプロパティをいじりたい</td>
          </tr>
          <tr>
            <td>症状</td>
            <td>
              Console に<br>
               Uncaught TypeError: Cannot read property 'なになに' of undefined<br>
              とでて進まない
            </td>
          </tr>
          <tr>
            <td>考察</td>
            <td>
              このエラーでPCとはこういうものだ、ということの理解が深まった思い入れのあるエラーです<br>
              PCの立場(？)で考えると、<br>
              「classなんて同じ名前のものがいくらでも作れるだろ<br>
              そのクラス名のどれのことをいってるんだ？」<br>
              ということなんでしょうね<br>
              ちなみに1つしかないクラス名を指定しても「わからん」っていわれます<br>
              せめて何となにで迷ってるかくらい教えてくれてもいいでしょうに<br>
              getElement<span style="color: red;">s</span>ByClassName<br>と複数形で命令出してるこちらがいうのも何なんですが…<br>
              でもこの融通の利かなさのおかげで、ついうっかり核ミサイルが発射されないのだと思うと頼もしい限りですね<br>
            </td>
          </tr>
          <tr>
            <td>対策</td>
            <td>
              getElementsByClassName('クラス名')
              <span style="background-color: yellow;">[2]</span>.なになに<br>
              のようにどのクラス名の何番目の要素、と指定してあげる<br>
              この場合は上から数えて3番目の要素を指定しています（0,1,2,3…と数える）<br>
              ちなみにdocument.getElementsByClassName('クラス名')<br>
              と Console に入力すると一覧をみることができました<br>
              とりあえず困ったら関連ありそうなものを Console に入力してみると色々とヒントがあることが分かったのも、このエラーのおかげです
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </main>
  <div class="returntoppage">
    <a href="#" translate="no">1番上へ</a></div>
</body>